<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" fill="none">
  <!-- Background Grid -->
  <defs>
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#1F2937" stroke-width="1"/>
    </pattern>
  </defs>
  <rect width="800" height="400" fill="url(#grid)" opacity="0.2"/>

  <!-- Nodes -->
  <g transform="translate(50, 150)">
    <rect width="180" height="100" rx="10" fill="#0A1124" stroke="#3B82F6" stroke-width="2"/>
    <text x="90" y="55" fill="white" font-family="monospace" font-size="16" text-anchor="middle">Application</text>
    <text x="90" y="75" fill="#6B7280" font-family="monospace" font-size="12" text-anchor="middle">(Crashes!)</text>
  </g>

  <g transform="translate(300, 150)">
    <rect width="180" height="100" rx="10" fill="#0A1124" stroke="#8B5CF6" stroke-width="2"/>
    <text x="90" y="45" fill="white" font-family="monospace" font-size="16" text-anchor="middle">SHCR Runtime</text>
    <text x="90" y="65" fill="#A78BFA" font-family="monospace" font-size="12" text-anchor="middle">Mach Exception</text>
    <text x="90" y="80" fill="#A78BFA" font-family="monospace" font-size="12" text-anchor="middle">Handler</text>
  </g>

  <g transform="translate(550, 150)">
    <rect width="180" height="100" rx="10" fill="#0A1124" stroke="#06B6D4" stroke-width="2"/>
    <text x="90" y="45" fill="white" font-family="monospace" font-size="16" text-anchor="middle">AI Classifier</text>
    <text x="90" y="65" fill="#67E8F9" font-family="monospace" font-size="12" text-anchor="middle">+ Binary Patcher</text>
  </g>

  <!-- Arrows -->
  <path d="M230 200 H300" stroke="#EF4444" stroke-width="2" marker-end="url(#arrow-red)"/>
  <path d="M480 200 H550" stroke="#3B82F6" stroke-width="2" marker-end="url(#arrow-blue)"/>
  
  <!-- Loop Back -->
  <path d="M640 150 V 80 H 140 V 150" stroke="#10B981" stroke-width="2" stroke-dasharray="5 5" fill="none" marker-end="url(#arrow-green)"/>
  <text x="400" y="70" fill="#10B981" font-family="monospace" font-size="12" text-anchor="middle">Resume Execution</text>

  <defs>
    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#3B82F6" />
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#EF4444" />
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981" />
    </marker>
  </defs>
</svg>
